[phases.setup]
nixPkgs = ['python310', 'nodejs-18_x', 'chromium']

[phases.install]
cmds = [
    'cd backend && pip install -r requirements.txt',
    'cd frontend && npm install',
    'playwright install chromium --with-deps || true'
]

[phases.build]
cmds = [
    'cd frontend && npm run build'
]

[start]
cmd = 'cd backend && python api_server.py'
